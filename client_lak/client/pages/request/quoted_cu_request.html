<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Quote - MechConnect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/geist-sans@5.0.1/index.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Geist Sans', 'system-ui', 'sans-serif'],
                    },
                    fontSize: {
                        'xs': ['0.75rem', { lineHeight: '1rem' }],
                        'sm': ['0.875rem', { lineHeight: '1.25rem' }],
                        'base': ['1rem', { lineHeight: '1.5rem' }],
                        'lg': ['1.125rem', { lineHeight: '1.75rem' }],
                    },
                    colors: {
                        orange: {
                            500: '#f97316',
                            600: '#ea580c',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .request-card {
            transition: all 0.3s ease;
        }
        
        .image-preview {
            transition: all 0.3s ease;
        }
        
        .image-preview:hover {
            transform: scale(1.05);
        }
        
        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 5px rgba(249, 115, 22, 0.3); }
            50% { box-shadow: 0 0 15px rgba(249, 115, 22, 0.5); }
        }
        
        .quote-badge {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .service-item {
            transition: all 0.2s ease;
        }
        
        .service-item:hover {
            background-color: #fef7ed;
        }
        
        .accept-btn {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .decline-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-10">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Back Button -->
                <button onclick="window.history.back()" class="flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-all duration-200 group">
                    <span class="material-icons-round text-lg group-hover:-translate-x-0.5 transition-transform">arrow_back</span>
                    <span class="text-sm font-medium hidden sm:inline">Back</span>
                </button>
                
                <!-- Page Title -->
                <div class="flex items-center gap-3">
                    <h1 class="text-lg font-semibold text-gray-900">Service Quote</h1>
                </div>
                
                <!-- Placeholder for alignment -->
                <div class="w-10"></div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-6">
        <div class="max-w-2xl mx-auto">
            <!-- Quote Status Banner -->
            <div class="quote-badge text-white rounded-2xl p-4 mb-6 flex items-center gap-3 shadow-md">
                <span class="material-icons-round text-xl">local_offer</span>
                <div>
                    <div class="font-semibold">Quote Received</div>
                    <div class="text-sm opacity-90">Mike Rodriguez has sent you a service quote</div>
                </div>
            </div>

            <!-- Request Card -->
            <div class="request-card bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
                
                <!-- Request Header -->
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-sm text-gray-600">Quote No:</span>
                            <span class="font-mono font-bold text-orange-600 text-lg">QT-001</span>
                        </div>
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <span class="material-icons-round text-base text-gray-400">person</span>
                            <span>From: <span class="font-medium text-gray-900">Mike Rodriguez</span></span>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-medium text-gray-900">Jan 16, 2024</div>
                        <div class="text-xs text-gray-500">10:45 AM</div>
                    </div>
                </div>

                <!-- Problem Description -->
                <div class="mb-6">
                    <h3 class="text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2">
                        <span class="material-icons-round text-orange-500 text-base">description</span>
                        Problem
                    </h3>
                    <p class="text-gray-700 text-sm bg-gray-50 rounded-lg p-4 border border-gray-200">
                        Hearing squeaking and grinding noises when applying brakes. The braking performance has decreased noticeably. 
                        Brake pedal feels softer and requires more pressure to stop the vehicle.
                    </p>
                </div>

                <!-- Images -->
                <div class="mb-6">
                    <h3 class="text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2">
                        <span class="material-icons-round text-orange-500 text-base">photo_library</span>
                        Photos
                    </h3>
                    <div class="grid grid-cols-3 gap-3">
                        <div class="image-preview bg-gray-100 rounded-lg overflow-hidden cursor-pointer aspect-square">
                            <img src="../../../imgs/service_deafault_2.png" alt="Brake issue" class="w-full h-full object-cover">
                        </div>
                        <div class="image-preview bg-gray-100 rounded-lg overflow-hidden cursor-pointer aspect-square">
                            <img src="../../../imgs/service_deafault_2.png" alt="Brake pad" class="w-full h-full object-cover">
                        </div>
                        <div class="image-preview bg-gray-100 rounded-lg overflow-hidden cursor-pointer aspect-square">
                            <img src="../../../imgs/service_deafault_2.png" alt="Brake rotor" class="w-full h-full object-cover">
                        </div>
                    </div>
                </div>

                <!-- Quote Breakdown -->
                <div class="mb-6">
                    <h3 class="text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2">
                        <span class="material-icons-round text-orange-500 text-base">receipt_long</span>
                        Quote Breakdown
                    </h3>
                    
                    <!-- Main Service -->
                    <div class="service-item bg-orange-50 rounded-xl border border-orange-200 p-4 mb-4">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-base font-semibold text-gray-900">Brake Pad Replacement</div>
                                <p class="text-sm text-gray-600 mt-1">Complete brake pad replacement with inspection of rotors and calipers</p>
                                <div class="flex items-center gap-2 text-sm text-green-600 mt-2">
                                    <span class="material-icons-round text-base text-green-500">check_circle</span>
                                    <span>Includes brake fluid check</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-lg font-bold text-orange-600">â‚±1,200</div>
                                <div class="text-xs text-gray-500">1-2 hours</div>
                            </div>
                        </div>
                    </div>

                    <!-- Recommended Services -->
                    <div class="mb-4">
                        <h4 class="text-sm font-medium text-gray-900 mb-2 flex items-center gap-2">
                            <span class="material-icons-round text-green-500 text-base">add_circle</span>
                            Recommended Services
                        </h4>
                        <div class="space-y-3">
                            <div class="service-item bg-gray-50 rounded-xl border border-gray-200 p-4">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <div class="text-base font-semibold text-gray-900">Wheel Alignment</div>
                                        <p class="text-sm text-gray-600 mt-1">Adjust wheel angles to manufacturer specifications</p>
                                        <div class="flex items-center gap-2 text-sm text-green-600 mt-2">
                                            <span class="material-icons-round text-base text-green-500">check_circle</span>
                                            <span>Improves tire life and vehicle handling</span>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-lg font-bold text-orange-600">â‚±300</div>
                                        <div class="text-xs text-gray-500">30 mins</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="service-item bg-gray-50 rounded-xl border border-gray-200 p-4">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <div class="text-base font-semibold text-gray-900">Air Filter Replacement</div>
                                        <p class="text-sm text-gray-600 mt-1">Replace engine air filter for optimal performance</p>
                                        <div class="flex items-center gap-2 text-sm text-green-600 mt-2">
                                            <span class="material-icons-round text-base text-green-500">check_circle</span>
                                            <span>Improves fuel efficiency</span>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-lg font-bold text-orange-600">â‚±200</div>
                                        <div class="text-xs text-gray-500">15 mins</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Parts Required -->
                    <div class="mb-4">
                        <h4 class="text-sm font-medium text-gray-900 mb-2 flex items-center gap-2">
                            <span class="material-icons-round text-orange-500 text-base">inventory_2</span>
                            Parts Required
                        </h4>
                        <div class="bg-gray-50 rounded-xl border border-gray-200 p-4">
                            <div class="space-y-3">
                                <div class="flex justify-between items-center text-sm">
                                    <div class="flex items-center gap-2">
                                        <span class="material-icons-round text-orange-500 text-base">build</span>
                                        <span class="text-gray-700">Brake Pads (Front)</span>
                                    </div>
                                    <span class="font-medium text-gray-900">â‚±800</span>
                                </div>
                                <div class="flex justify-between items-center text-sm">
                                    <div class="flex items-center gap-2">
                                        <span class="material-icons-round text-orange-500 text-base">oil_barrel</span>
                                        <span class="text-gray-700">Brake Fluid</span>
                                    </div>
                                    <span class="font-medium text-gray-900">â‚±250</span>
                                </div>
                                <div class="flex justify-between items-center text-sm">
                                    <div class="flex items-center gap-2">
                                        <span class="material-icons-round text-orange-500 text-base">filter_alt</span>
                                        <span class="text-gray-700">Air Filter</span>
                                    </div>
                                    <span class="font-medium text-gray-900">â‚±180</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quote Summary -->
                <div class="mb-6">
                    <h3 class="text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2">
                        <span class="material-icons-round text-orange-500 text-base">payments</span>
                        Quote Summary
                    </h3>
                    <div class="bg-gray-50 rounded-xl border border-gray-200 p-4">
                        <div class="space-y-3">
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-600">Labor (Brake Pad Replacement)</span>
                                <span class="font-medium text-gray-900">â‚±1,200</span>
                            </div>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-600">Parts</span>
                                <span class="font-medium text-gray-900">â‚±1,230</span>
                            </div>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-600">Additional Services</span>
                                <span class="font-medium text-gray-900">â‚±500</span>
                            </div>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-600">Service Fee</span>
                                <span class="font-medium text-gray-900">â‚±100</span>
                            </div>
                            <div class="border-t border-gray-300 pt-3 mt-2">
                                <div class="flex justify-between items-center">
                                    <span class="text-base font-semibold text-gray-900">Total</span>
                                    <span class="text-xl font-bold text-orange-600">â‚±3,030</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Location -->
                <div class="mb-6">
                    <h3 class="text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2">
                        <span class="material-icons-round text-orange-500 text-base">location_on</span>
                        Location
                    </h3>
                    <div class="bg-blue-50 rounded-lg p-4 border border-blue-200">
                        <div class="text-sm text-blue-700">
                            <div class="font-medium">123 Main Street</div>
                            <div class="text-xs mt-1">Barangay Zone 4, Zamboanga City</div>
                            <div class="text-xs">Region IX - Zamboanga Peninsula</div>
                        </div>
                    </div>
                </div>

                <!-- Time -->
                <div class="mb-6">
                    <h3 class="text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2">
                        <span class="material-icons-round text-orange-500 text-base">schedule</span>
                        Time
                    </h3>
                    <div class="bg-green-50 rounded-lg p-4 border border-green-200">
                        <div class="text-sm text-green-700">
                            <div class="font-medium">Scheduled Service</div>
                            <div class="text-xs mt-1">Jan 17, 2024 at 2:00 PM</div>
                            <div class="text-xs">Estimated: 1-2 hours</div>
                        </div>
                    </div>
                </div>

                <!-- Mechanic's Notes -->
                <div class="bg-yellow-50 rounded-lg p-4 border border-yellow-200">
                    <div class="flex items-start gap-3">
                        <span class="material-icons-round text-yellow-600 mt-0.5">notes</span>
                        <div class="flex-1">
                            <div class="text-sm font-medium text-yellow-900 mb-1">Mechanic's Notes</div>
                            <p class="text-xs text-yellow-700">
                                "Based on your request, I recommend the wheel alignment service as well since we'll already have the wheels off. 
                                This will ensure your vehicle handles properly after the brake service. The air filter replacement is also recommended 
                                as your current filter appears dirty based on the photos you provided."
                            </p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 mt-6">
                <button onclick="declineQuote()" class="decline-btn text-white px-6 py-3 rounded-xl text-base font-medium hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg flex-1">
                    <span class="material-icons-round text-base">close</span>
                    Decline Quote
                </button>
                <button onclick="acceptQuote()" class="accept-btn text-white px-6 py-3 rounded-xl text-base font-medium hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg flex-1">
                    <span class="material-icons-round text-base">check</span>
                    Accept Quote
                </button>
            </div>

        </div>
    </main>

    <script>
        function acceptQuote() {
            // Show loading state
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="material-icons-round animate-spin">refresh</span><span>Processing...</span>';
            button.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                alert('Quote accepted! Your service has been scheduled.');
                window.location.href = 'service-scheduled.html';
            }, 1500);
        }

        function declineQuote() {
            if (confirm('Are you sure you want to decline this quote? You can request another quote from this mechanic or choose a different one.')) {
                // Show loading state
                const button = event.target;
                const originalText = button.innerHTML;
                button.innerHTML = '<span class="material-icons-round animate-spin">refresh</span><span>Processing...</span>';
                button.disabled = true;
                
                // Simulate API call
                setTimeout(() => {
                    alert('Quote declined. You can browse other mechanics or request a new quote.');
                    window.location.href = 'find-mechanics.html';
                }, 1500);
            }
        }

        // Image preview modal
        document.addEventListener('click', function(e) {
            if (e.target.closest('.image-preview')) {
                const imgSrc = e.target.closest('.image-preview').querySelector('img').src;
                openImageModal(imgSrc);
            }
        });

        function openImageModal(src) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="relative max-w-4xl max-h-full">
                    <img src="${src}" alt="Enlarged view" class="max-w-full max-h-full object-contain">
                    <button class="absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-all"
                            onclick="this.closest('.fixed').remove()">
                        <span class="material-icons-round">close</span>
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }
    </script>
</body>
</html>